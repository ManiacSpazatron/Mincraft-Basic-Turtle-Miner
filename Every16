--This version checks if the inventory is full every 16 blocks
while true do
local rightTurn = true

for i = 1,16 do

--start of inventory check
    turtle.select(13)
if turtle.getItemCount() == 0 then
    turtle.select(3)
else
    if turtle.getItemCount() ~= 0 then
            turtle.dig()
            turtle.select(2)
            turtle.place()
        for i = 2,16 do 
            turtle.select(i)
            if turtle.getSelectedSlot() ~= 0 then
                turtle.drop()
            end
        end   
    end
end
--end of inventory check
--start of refuel
    if turtle.getFuelLevel() <= 100 then
        turtle.dig()
        turtle.select(1)
        turtle.place()
        turtle.suck()
        turtle.refuel()
        turtle.dig()
    end
--end of refuel
    for i = 1,15 do
        turtle.dig()
        turtle.forward()
    end
    if rightTurn == true then
        turtle.turnRight()
        turtle.dig()
        turtle.forward()
        turtle.turnRight()
        rightTurn = false
    else
        turtle.turnLeft()
        turtle.dig()
        turtle.forward()
        turtle.turnLeft()
        rightTurn = true 
    end
end
--go to the next layer down
    turtle.digDown()
    turtle.down()
    if rightTurn == true then
        turtle.turnRight()
        rightTurn = false
    else
        turtle.turnLeft()
        rightTurn = true
    end
end
